@using UniANPR.Models.Shared
@inherits ThreeSComponentBase

<TelerikWindow Modal="true" Size="WindowSize.Mediun" Height="auto" Width="auto" Visible="@EditRacePopupVisible" Resizable="false" Draggable="false">
    <WindowTitle>Edit Race</WindowTitle>
    <WindowActions>
        <WindowAction Name="Close" OnClick="@CancelEditing"></WindowAction>
    </WindowActions>
    <WindowContent>
        <div style="padding: 20px;">

            <TelerikGrid Data=@_raceParticipantData
             Height="100%"
             Class="activeRaceGrid">
                <RowTemplate Context="data">
                  
                    <td>@data.ParticipantName</td>
                    <td>@data.RaceTrackName</td>
                    <td>@data.RegisteredParticipants/@data.Spots</td>

                    <td>

                        @if(data.RegistrationClosed)
                        {
                           <TelerikButton Class="threeSCTileHeaderButton" OnClick="@EditPendingRace" Icon="@FontIcon.Pencil"></TelerikButton> 
                        }
                        <TelerikButton Class="threeSCTileHeaderButton" OnClick="DeletePendingRace" Icon="@FontIcon.X"></TelerikButton> 
                    
                    </td>
                </RowTemplate>
                <GridColumns>

                    <GridColumn Field=@nameof(Participant_VM.RaceName)
                                Title="Race Name" Width="55px" />
                    <GridColumn Field=@nameof(Race_VM.RaceTrackName)
                                Title="Track" Width="120px" />
                    <GridColumn Field=@nameof(Race_VM.RegisteredParticipants)
                                Title="Participants" Width="80px" />
                    <GridColumn Field="Actions"
                                Title="Actions" Width="80px" />

                </GridColumns>

            </TelerikGrid>

        </div>

    </WindowContent>
</TelerikWindow>